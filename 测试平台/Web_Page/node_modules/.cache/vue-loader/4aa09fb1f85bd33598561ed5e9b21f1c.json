{"remainingRequest":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\src\\views\\Testcase.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\src\\views\\Testcase.vue","mtime":1627826726772},{"path":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ruanjian\\project\\testhtml\\html_stu\\test_case\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgc2VsZWN0ZWQ6IFtdLAogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgICBoZWFkZXJzOiBbCiAgICAgICAgICAgIHt0ZXh0OiAn55So5L6LSUQnLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2lkJyx9LAogICAgICAgICAgICB7dGV4dDogJ25vZGVJRCcsIHZhbHVlOiAnbm9kZWlkJ30sCiAgICAgICAgICAgIHt0ZXh0OiAn55So5L6L5aSH5rOoJywgdmFsdWU6ICdyZW1hcmsnfSwKICAgICAgICAgICAge3RleHQ6ICdBY3Rpb25zJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlfSwKICAgICAgICBdLAogICAgICAgIGRlc3NlcnRzOiBbXSwKICAgICAgICBlZGl0ZWRJbmRleDogLTEsCiAgICAgICAgZWRpdGVkSXRlbTogewogICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgIG5vZGVpZDogMCwKICAgICAgICAgICAgcmVtYXJrOiAwLAogICAgICAgIH0sCiAgICAgICAgZGVmYXVsdEl0ZW06IHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGNhbG9yaWVzOiAwLAogICAgICAgICAgICBmYXQ6IDAsCiAgICAgICAgICAgIGNhcmJzOiAwLAogICAgICAgICAgICBwcm90ZWluOiAwLAogICAgICAgIH0sCiAgICB9KSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGZvcm1UaXRsZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ+aWsOWinueUqOS+iycgOiAn57yW6L6R55So5L6LJwogICAgICAgIH0sCiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgZGlhbG9nKHZhbCkgewogICAgICAgICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpCiAgICAgICAgfSwKICAgICAgICBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCkKICAgICAgICB9LAogICAgfSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBpbml0aWFsaXplKCkgewogICAgICAgICAgICB0aGlzLiRhcGkudGVzdGNhc2UuZ2V0VGVzdGNhc2UoKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkKICAgICAgICAgICAgICAgIHRoaXMuZGVzc2VydHMgPSByZXN1bHRbJ2RhdGEnXVsnbXNnJ11bJ2RhdGEnXQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVzc2VydHMuaW5kZXhPZihpdGVtKQogICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgICB9LAoKICAgICAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVzc2VydHMuaW5kZXhPZihpdGVtKQogICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWUKICAgICAgICB9LAoKICAgICAgICBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgICAgICAgbGV0IGRlbElEID0gdGhpcy5lZGl0ZWRJdGVtWydpZCddCiAgICAgICAgICAgIHRoaXMuJGFwaS50ZXN0Y2FzZS5kZWxUZXN0Y2FzZShkZWxJRCkKICAgICAgICAgICAgdGhpcy5kZXNzZXJ0cy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSkKICAgICAgICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpCiAgICAgICAgfSwKCiAgICAgICAgY2xvc2UoKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIGNsb3NlRGVsZXRlKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBzYXZlKCkgewogICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgICAvL+e8lui+kQogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlc3NlcnRzW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgICAgICB0aGlzLiRhcGkudGVzdGNhc2UuZWRpdFRlc3RjYXNlKHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8v5paw5aKeCiAgICAgICAgICAgICAgICB0aGlzLmRlc3NlcnRzLnB1c2godGhpcy5lZGl0ZWRJdGVtKQogICAgICAgICAgICAgICAgdGhpcy4kYXBpLnRlc3RjYXNlLmNyZWF0ZVRlc3RjYXNlKHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICB9LAogICAgICAgIGV4ZWN1dGVDYXNlKCkgewogICAgICAgICAgICAvL+aJp+ihjOa1i+ivleeUqOS+iwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkKQogICAgICAgICAgICB0aGlzLiRhcGkudGFzay5hZGRUYXNrKHRoaXMuc2VsZWN0ZWQpLnRoZW4oKHJlc3VsdCkgPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5lcnJvcj09PTApewogICAgICAgICAgICAgICAgYWxlcnQoIueUqOS+i+aJp+ihjOaIkOWKn++8jOivt+WIsOa1i+ivleS7u+WKoemhtemdouafpeeciyIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgi55So5L6L5pyq5omn6KGM5oiQ5Yqf77yM6K+35qOA5p+lIikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["Testcase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Testcase.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <v-data-table\r\n            v-model=\"selected\"\r\n            :headers=\"headers\"\r\n            :items=\"desserts\"\r\n            sort-by=\"id\"\r\n            class=\"elevation-1\"\r\n            show-select\r\n            item-key=\"id\"\r\n    >\r\n        <template v-slot:top>\r\n            <v-toolbar flat>\r\n                <v-toolbar-title>测试用例</v-toolbar-title>\r\n                <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n                <v-spacer></v-spacer>\r\n                <v-btn\r\n                        color=\"success\"\r\n                        dark\r\n                        class=\"mb-2\"\r\n                        @click=\"executeCase()\"\r\n                >执行用例\r\n                </v-btn>\r\n                <v-dialog\r\n                        v-model=\"dialog\"\r\n                        max-width=\"500px\"\r\n                >\r\n\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-btn\r\n                                color=\"primary\"\r\n                                dark\r\n                                class=\"mb-2\"\r\n                                v-bind=\"attrs\"\r\n                                v-on=\"on\"\r\n                        >新建用例\r\n                        </v-btn>\r\n                    </template>\r\n                    <v-card>\r\n                        <v-card-title>\r\n                            <span class=\"text-h5\">{{ formTitle }}</span>\r\n                        </v-card-title>\r\n                        <v-card-text>\r\n                            <v-container>\r\n                                <v-row>\r\n                                    <v-col\r\n                                            cols=\"12\"\r\n                                            sm=\"6\"\r\n                                            md=\"4\"\r\n                                    >\r\n                                        <v-text-field\r\n                                                v-model=\"editedItem.id\"\r\n                                                label=\"用例ID\"\r\n                                        ></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col\r\n                                            cols=\"12\"\r\n                                            sm=\"6\"\r\n                                            md=\"4\"\r\n                                    >\r\n                                        <v-text-field\r\n                                                v-model=\"editedItem.nodeid\"\r\n                                                label=\"nodeID\"\r\n                                        ></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col\r\n                                            cols=\"12\"\r\n                                            sm=\"6\"\r\n                                            md=\"4\"\r\n                                    >\r\n                                        <v-text-field\r\n                                                v-model=\"editedItem.remark\"\r\n                                                label=\"备注\"\r\n                                        ></v-text-field>\r\n                                    </v-col>\r\n                                </v-row>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn\r\n                                    color=\"blue darken-1\"\r\n                                    text\r\n                                    @click=\"close\"\r\n                            >\r\n                                取消\r\n                            </v-btn>\r\n                            <v-btn\r\n                                    color=\"blue darken-1\"\r\n                                    text\r\n                                    @click=\"save\"\r\n                            >\r\n                                保存\r\n                            </v-btn>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-dialog>\r\n                <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\r\n                    <v-card>\r\n                        <v-card-title class=\"text-h5\">确认删除该用例？</v-card-title>\r\n                        <v-card-actions>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\r\n                            <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">确认</v-btn>\r\n                            <v-spacer></v-spacer>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-dialog>\r\n            </v-toolbar>\r\n        </template>\r\n        <template v-slot:item.actions=\"{ item }\">\r\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\">mdi-pencil</v-icon>\r\n            <v-icon small @click=\"deleteItem(item)\">mdi-delete</v-icon>\r\n        </template>\r\n        <!--    <template v-slot:no-data>-->\r\n        <!--      <v-btn-->\r\n        <!--              color=\"primary\"-->\r\n        <!--              @click=\"initialize\"-->\r\n        <!--      >-->\r\n        <!--        Reset-->\r\n        <!--      </v-btn>-->\r\n        <!--    </template>-->\r\n    </v-data-table>\r\n</template>\r\n<script>\r\n    export default {\r\n        data: () => ({\r\n            selected: [],\r\n            dialog: false,\r\n            dialogDelete: false,\r\n            headers: [\r\n                {text: '用例ID', align: 'start', sortable: false, value: 'id',},\r\n                {text: 'nodeID', value: 'nodeid'},\r\n                {text: '用例备注', value: 'remark'},\r\n                {text: 'Actions', value: 'actions', sortable: false},\r\n            ],\r\n            desserts: [],\r\n            editedIndex: -1,\r\n            editedItem: {\r\n                id: '',\r\n                nodeid: 0,\r\n                remark: 0,\r\n            },\r\n            defaultItem: {\r\n                name: '',\r\n                calories: 0,\r\n                fat: 0,\r\n                carbs: 0,\r\n                protein: 0,\r\n            },\r\n        }),\r\n\r\n        computed: {\r\n            formTitle() {\r\n                return this.editedIndex === -1 ? '新增用例' : '编辑用例'\r\n            },\r\n        },\r\n\r\n        watch: {\r\n            dialog(val) {\r\n                val || this.close()\r\n            },\r\n            dialogDelete(val) {\r\n                val || this.closeDelete()\r\n            },\r\n        },\r\n\r\n        created() {\r\n            this.initialize()\r\n        },\r\n\r\n        methods: {\r\n            initialize() {\r\n                this.$api.testcase.getTestcase().then((result) => {\r\n                    console.log(result)\r\n                    this.desserts = result['data']['msg']['data']\r\n                })\r\n            },\r\n\r\n            editItem(item) {\r\n                this.editedIndex = this.desserts.indexOf(item)\r\n                this.editedItem = Object.assign({}, item)\r\n                this.dialog = true\r\n            },\r\n\r\n            deleteItem(item) {\r\n                this.editedIndex = this.desserts.indexOf(item)\r\n                this.editedItem = Object.assign({}, item)\r\n                this.dialogDelete = true\r\n            },\r\n\r\n            deleteItemConfirm() {\r\n                let delID = this.editedItem['id']\r\n                this.$api.testcase.delTestcase(delID)\r\n                this.desserts.splice(this.editedIndex, 1)\r\n                this.closeDelete()\r\n            },\r\n\r\n            close() {\r\n                this.dialog = false\r\n                this.$nextTick(() => {\r\n                    this.editedItem = Object.assign({}, this.defaultItem)\r\n                    this.editedIndex = -1\r\n                })\r\n            },\r\n\r\n            closeDelete() {\r\n                this.dialogDelete = false\r\n                this.$nextTick(() => {\r\n                    this.editedItem = Object.assign({}, this.defaultItem)\r\n                    this.editedIndex = -1\r\n                })\r\n            },\r\n\r\n            save() {\r\n                if (this.editedIndex > -1) {\r\n                    //编辑\r\n                    Object.assign(this.desserts[this.editedIndex], this.editedItem)\r\n                    this.$api.testcase.editTestcase(this.editedItem)\r\n                } else {\r\n                    //新增\r\n                    this.desserts.push(this.editedItem)\r\n                    this.$api.testcase.createTestcase(this.editedItem)\r\n                }\r\n                this.close()\r\n            },\r\n            executeCase() {\r\n                //执行测试用例\r\n                console.log(this.selected)\r\n                this.$api.task.addTask(this.selected).then((result) =>{\r\n                    console.log(result)\r\n                })\r\n                if (result.data.error===0){\r\n                    alert(\"用例执行成功，请到测试任务页面查看\")\r\n                }\r\n                else {\r\n                    alert(\"用例未执行成功，请检查\")\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>"]}]}